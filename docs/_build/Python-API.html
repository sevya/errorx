

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Python API &#8212; ErrorX 1.1.0 documentation</title>
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">ErrorX 1.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Python API</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#walkthrough">Walkthrough</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Python-API.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="python-api">
<h1>Python API<a class="headerlink" href="#python-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>The Python packages are also located in the folder you just extracted. ErrorX supports Python versions 2.7 and 3.6. To install the Python 2.7 package simply run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">python2_bindings</span><span class="o">/</span>
</pre></div>
</div>
<p>and for version 3.6 run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="n">python3_bindings</span><span class="o">/</span>
</pre></div>
</div>
<p>You are now ready to run ErrorX through the Python interface!</p>
</div>
<div class="section" id="walkthrough">
<h2>Walkthrough<a class="headerlink" href="#walkthrough" title="Permalink to this headline">¶</a></h2>
<p>To run the Python interface, you first need to import the errorx package to have access to all the functions to do data correction. You can also import the ErrorXOptions class if you want to have more fine-tuned control over the settings. To run the entire protocol, you need to provide an input file, as well as its format. A full example is provided in <code class="docutils literal notranslate"><span class="pre">ErrorX/documentation/ExampleApp.py</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import errorx as ex
from errorx import ErrorXOptions

options = ErrorXOptions(&#39;example.fastq&#39;,&#39;fastq&#39;)
options.outfile( &#39;example_out.tsv&#39; )
options.species( &#39;mouse&#39; )
options.igtype( ‘Ig’ )
ex.run_protocol( options )
</pre></div>
</div>
<p>You can also get corrected sequences from within the Python script that you can then operate on, shown below. This function takes in lists of nucleotide sequences, their inferred germline sequences, and the PHRED quality scores, and returns a list of corrected sequences corresponding to the input sequences:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sequences</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;TACTCCCG&#39;</span><span class="p">]</span> 
<span class="n">germline_sequences</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;TACTCCCA&#39;</span><span class="p">]</span>
<span class="n">phred_scores</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;HEIHHIII&#39;</span><span class="p">]</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">correct_sequences</span><span class="p">(</span><span class="n">sequences</span><span class="p">,</span> <span class="n">germline_sequences</span><span class="p">,</span> <span class="n">phred_scores</span><span class="p">,</span> <span class="n">options</span> <span class="p">)</span>
</pre></div>
</div>
<p>You can also input a single sequence, and get the predicted probability of error for each position along that sequence (positions are zero-indexed):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sequence</span> <span class="o">=</span> <span class="s1">&#39;TACTCCCG&#39;</span>
<span class="n">germline_sequence</span> <span class="o">=</span> <span class="s1">&#39;TACTCCCA&#39;</span>
<span class="n">phred_scores</span> <span class="o">=</span> <span class="s1">&#39;HEIHHIII&#39;</span>

<span class="n">probabilities</span> <span class="o">=</span> <span class="n">get_predicted_errors</span><span class="p">(</span><span class="n">sequences</span><span class="p">,</span> <span class="n">germline_sequences</span><span class="p">,</span> <span class="n">phred_scores</span><span class="p">,</span> <span class="n">options</span> <span class="p">)</span>

<span class="c1"># returns probability of error at position 0</span>
<span class="nb">print</span> <span class="n">probabilities</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</pre></div>
</div>
<p><a class="reference internal" href="index.html"><span class="doc">Back to Home</span></a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">ErrorX 1.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, Alex Sevy.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>